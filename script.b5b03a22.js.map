{"version":3,"sources":["script.js"],"names":["document","addEventListener","appInit","preloader","deletePreloadOnClick","window","deletePreloadOnScroll","isTouchDevice","onmousemove","e","X","clientX","Y","clientY","main","style","transform","dataset","target","title","titleOfSection","collectionWord","innerHTML","throttle","onload","console","log","querySelector","createEvent","opacity","setTimeout","remove","removeEventListener","scrollY","Function","prototype","milliseconds","context","baseFunction","limit","lastEventTimestamp","self","args","arguments","now","Date","apply"],"mappings":";CAAA,WACEA,SAASC,iBAAiB,mBAmBjBC,WAQPC,EAAUF,iBAAiB,QAASG,GACpCC,OAAOJ,iBAAiB,SAAUK,IAPV,IAApBC,MAiCJF,OAAOG,YAAc,SAASC,GACtBC,IAAAA,EAAID,EAAEE,QACNC,EAAIH,EAAEI,QACZC,EAAKC,MAAMC,UAA0BN,cAAAA,OAAAA,EAAI,GAAUE,SAAAA,OAAAA,EAAI,GAAvD,OAEQK,IAAAA,EAAYR,EAAES,OAAdD,QAEJA,GAAAA,EAAQE,MAAO,CACXC,IAAAA,EAAiBH,EAAQE,MAC/BE,EAAeC,UAAYF,OAE3BC,EAAeC,UAAY,GAG7BD,EAAeN,MAAMC,UAA0B,cAAA,OAAA,GAC7CN,EAAI,IAAU,QAAA,OAAA,GAAKE,EAAI,IADzB,OAEAW,SAAS,OApEblB,OAAOmB,OAAS,WACdC,QAAQC,IAAI,eAGRZ,IAAAA,EAAOd,SAAS2B,cAAc,QAC9BN,EAAiBrB,SAAS2B,cAAc,oBACxCxB,EAAYH,SAAS2B,cAAc,cAEnCpB,EAAgB,WAChB,IAEK,OADPP,SAAS4B,YAAY,eACd,EACP,MAAOnB,GACA,OAAA,IAgBFL,SAAAA,IACPD,EAAUY,MAAMc,QAAU,EAE1BC,WAAW,WACT3B,EAAU4B,UACT,KAEH5B,EAAU6B,oBAAoB,QAAS5B,GAGhCE,SAAAA,IACHD,OAAO4B,QAAU,MACnB9B,EAAUY,MAAMc,QAAU,EAE1BC,WAAW,WACT3B,EAAU4B,UACT,KAEH1B,OAAO2B,oBAAoB,SAAU1B,IAyBzC4B,SAASC,UAAUZ,SAAW,SAASa,EAAcC,GAC7CC,IAAAA,EAAe,KACfC,EAAQH,EACVI,EAAqB,KAElB,OAAA,WACCC,IAAAA,EAAOJ,GAAW,KAClBK,EAAOC,UACPC,EAAMC,KAAKD,QAEZJ,GAAsBI,EAAMJ,GAAsBD,KACrDC,EAAqBI,EACrBN,EAAaQ,MAAML,EAAMC,MAvFjC","file":"script.b5b03a22.js","sourceRoot":"..\\src","sourcesContent":["(function() {\r\n  document.addEventListener(\"DOMContentLoaded\", appInit);\r\n\r\n  window.onload = function() {\r\n    console.log(\"got onload\");\r\n  };\r\n\r\n  const main = document.querySelector(\"main\");\r\n  const collectionWord = document.querySelector(\".collection-word\");\r\n  const preloader = document.querySelector(\".preloader\");\r\n\r\n  const isTouchDevice = () => {\r\n    try {\r\n      document.createEvent(\"TouchEvent\");\r\n      return true;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  function appInit() {\r\n    initPreloader();\r\n    if (isTouchDevice() === false) {\r\n      addTransformToContent();\r\n    }\r\n  }\r\n\r\n  function initPreloader() {\r\n    preloader.addEventListener(\"click\", deletePreloadOnClick);\r\n    window.addEventListener(\"scroll\", deletePreloadOnScroll);\r\n  }\r\n\r\n  function deletePreloadOnClick() {\r\n    preloader.style.opacity = 0;\r\n\r\n    setTimeout(() => {\r\n      preloader.remove();\r\n    }, 1000);\r\n\r\n    preloader.removeEventListener(\"click\", deletePreloadOnClick);\r\n  }\r\n\r\n  function deletePreloadOnScroll() {\r\n    if (window.scrollY > 295) {\r\n      preloader.style.opacity = 0;\r\n\r\n      setTimeout(() => {\r\n        preloader.remove();\r\n      }, 1000);\r\n\r\n      window.removeEventListener(\"scroll\", deletePreloadOnScroll);\r\n    }\r\n  }\r\n\r\n  function addTransformToContent() {\r\n    window.onmousemove = function(e) {\r\n      const X = e.clientX;\r\n      const Y = e.clientY;\r\n      main.style.transform = `translate(-${X / 30}px, -${Y / 30}px)`;\r\n\r\n      const { dataset } = e.target;\r\n\r\n      if (dataset.title) {\r\n        const titleOfSection = dataset.title;\r\n        collectionWord.innerHTML = titleOfSection;\r\n      } else {\r\n        collectionWord.innerHTML = \"\";\r\n      }\r\n\r\n      collectionWord.style.transform = `translate(-${50 -\r\n        X / 200}%, -${50 - Y / 200}%)`;\r\n    }.throttle(30);\r\n  }\r\n\r\n  /////// throttle\r\n  Function.prototype.throttle = function(milliseconds, context) {\r\n    const baseFunction = this;\r\n    const limit = milliseconds;\r\n    let lastEventTimestamp = null;\r\n\r\n    return function() {\r\n      const self = context || this;\r\n      const args = arguments;\r\n      const now = Date.now();\r\n\r\n      if (!lastEventTimestamp || now - lastEventTimestamp >= limit) {\r\n        lastEventTimestamp = now;\r\n        baseFunction.apply(self, args);\r\n      }\r\n    };\r\n  };\r\n})();\r\n"]}